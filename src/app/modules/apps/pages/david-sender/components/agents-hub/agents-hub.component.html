<div class="w-full bg-white shadow-xl p-6 rounded-2xl">
  <!-- Header -->
  <div class="flex items-center justify-between mb-6 border-b pb-3">
    <h2 class="text-xl font-bold text-gray-800">Elige tu tipo de agente</h2>

  </div>

  <!-- Carril / Grid responsive -->
  <div
    class="flex gap-4 overflow-x-auto snap-x snap-mandatory scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-transparent pb-3"
    style="scroll-snap-type: x mandatory;"
    role="listbox" aria-label="Tipos de agente disponibles" aria-roledescription="carrusel">
    <!-- Card -->
    <div *ngFor="let plan of plans; trackBy: trackById" (click)="select(plan)"
      class="flex-shrink-0 w-full sm:w-1/2 lg:w-1/3 xl:w-1/4 min-w-[16rem] max-w-xs snap-start cursor-pointer
             rounded-2xl border border-gray-200 bg-white p-5 transition-all
             hover:shadow-lg hover:border-green-400"
      [ngClass]="{
        ' border-green-500': isSelected(plan),
        'border-gray-200': !isSelected(plan)
      }"
      role="option" [attr.aria-selected]="isSelected(plan)" tabindex="0">
      <!-- Badge / Precio -->
      <div class="flex items-start justify-between mb-3">
        <div *ngIf="plan.badge" class="text-[11px] px-2 py-0.5 rounded-full" [ngClass]="{
            'bg-green-100 text-green-700': plan.badge === 'Gratis',
            'bg-yellow-100 text-yellow-700': plan.badge === 'Popular',
            'bg-blue-100 text-blue-700': plan.badge === 'Nuevo'
          }">
          {{ plan.badge }}
        </div>
        <div class="text-right">
          <div class="text-lg font-extrabold text-gray-900 leading-none">
            {{ plan.price }}
          </div>
          <div class="text-[11px] text-gray-500 leading-none mt-1">
            IVA no incluido
          </div>
        </div>
      </div>

      <!-- Título + Tagline -->
      <h3 class="text-lg font-semibold text-gray-900">{{ plan.title }}</h3>
      <p class="text-sm text-gray-600 mt-1">{{ plan.tagline }}</p>

      <!-- Beneficios -->
      <ul class="mt-4 space-y-2 text-sm text-gray-800 max-h-32 overflow-y-auto pr-1">
        <li *ngFor="let b of plan.benefits" class="flex items-start">
          <span class="mt-0.5 mr-2 text-green-600">✔</span>
          <span class="leading-snug">{{ b }}</span>
        </li>
      </ul>

      <!-- Botón acción -->
      <!-- <button type="button" (click)="$event.stopPropagation(); select(plan)"
        class="mt-5 w-full px-4 py-2 text-sm font-medium rounded-xl transition text-white" [ngClass]="{
          'bg-green-600 hover:bg-green-700': !isSelected(plan),
          'bg-green-700': isSelected(plan)
        }">
        {{ isSelected(plan) ? 'Seleccionado ✓' : 'Seleccionar' }}
      </button> -->
    </div>
  </div>

  <!-- Resumen de selección -->
  <!-- <div *ngIf="selectedId"
    class="mt-6 p-4 bg-green-50 border border-green-200 rounded-xl text-sm text-green-800 text-center">
    Has seleccionado: <b>{{ getSelectedPlanTitle() }}</b>.
  </div> -->
</div>
